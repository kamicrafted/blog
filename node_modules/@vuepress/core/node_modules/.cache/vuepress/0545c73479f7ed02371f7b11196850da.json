{"remainingRequest":"/Users/daveyoon/DigitalOcean/blog.kamicrafted.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daveyoon/DigitalOcean/blog.kamicrafted.com/src/.vuepress/components/BlogPostList.vue?vue&type=style&index=0&id=6dc9552c&scoped=true&lang=css&","dependencies":[{"path":"/Users/daveyoon/DigitalOcean/blog.kamicrafted.com/src/.vuepress/components/BlogPostList.vue","mtime":1569850675026},{"path":"/Users/daveyoon/DigitalOcean/blog.kamicrafted.com/node_modules/css-loader/index.js","mtime":1569850707990},{"path":"/Users/daveyoon/DigitalOcean/blog.kamicrafted.com/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1569850708167},{"path":"/Users/daveyoon/DigitalOcean/blog.kamicrafted.com/node_modules/postcss-loader/lib/index.js","mtime":1569850708075},{"path":"/Users/daveyoon/DigitalOcean/blog.kamicrafted.com/node_modules/cache-loader/dist/cjs.js","mtime":1569850707940},{"path":"/Users/daveyoon/DigitalOcean/blog.kamicrafted.com/node_modules/vue-loader/lib/index.js","mtime":1569850708167}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.blog-list {\n\tpadding: 0;\n\tmargin: 0;\n}\n\n.blog-list__item {\n\tlist-style-type: none;\n}\n\n.blog-list__tags {\n    margin-bottom: 15px;\n}\n\n.button--pagination {\n\tbackground-color: #32c8cf;\n\tborder-radius: 4px;\n\tcolor: #fff;\n\tfont-size: 0.8rem;\n\tpadding: 0.5rem 0.75rem;\n\ttext-transform: uppercase;\n\tfont-weight: 700;\n\tbox-shadow: 0 0;\n\ttransition: background-color 0.2s ease-in, color 0.2s ease-in;\n}\n\n.button--pagination:hover {\n    background-color: #fff;\n    border: 1px solid #32c8cf;\n    border-radius: 4px;\n    color: #32c8cf;\n}\n\n.clear-filter-btn {\n    align-self: center;\n    margin-left: 20px;\n}\n\n.filtered-heading {\n    display: flex;\n}\n\n.pagination {\n    text-align: center;\n}\n",{"version":3,"sources":["BlogPostList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyIA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"BlogPostList.vue","sourceRoot":"src/.vuepress/components","sourcesContent":["<script>\nexport default {\n    name: 'BlogPostList',\n    props: {\n        pages: {\n            type: Array,\n            default: []\n        },\n        pageSize: {\n            type: Number,\n            default: 5\n        },\n        startPage: {\n            type: Number,\n            default: 0\n        }\n    },\n    data() {\n        return {\n            currentPage: Math.ceil(this.startPage / this.pageSize),\n            selectedTags: []\n        }\n    },\n    computed: {\n        filteredList() {\n            if (this.pages) {\n                \n                return this.pages.filter(item => {\n                    const isBlogPost = !!item.frontmatter.blog\n                    const isReadyToPublish = new Date(item.frontmatter.date) <= new Date()\n                     // check for locales\n                    let isCurrentLocale = true;\n                    if(this.$site.locales) {\n                        const localePath = this.$route.path.split('/')[1] || \"\";\n                        isCurrentLocale = item.relativePath.startsWith(localePath);   \n                    }\n                    // check if tags contain all of the selected tags\n                    const hasTags = !!item.frontmatter.tags && this.selectedTags.every((tag) => item.frontmatter.tags.includes(tag))\n\n                    if (!isBlogPost || !isReadyToPublish || (this.selectedTags.length > 0 && !hasTags) || !isCurrentLocale){ \n                        return false\n                    }\n\n                    return true\n                    \n                }).sort((a, b) => new Date(b.frontmatter.date) - new Date(a.frontmatter.date))\n            }\n        },\n\n        totalPages() {\n            \n            return Math.ceil(this.filteredList.length / this.pageSize)\n        },\n    },\n\n    mounted() {\n        this.currentPage =  Math.min(Math.max(this.currentPage, 0), this.totalPages - 1)\n    },\n\n    methods: {\n        nextPage() {\n            this.currentPage = this.currentPage >= this.totalPages - 1 ? this.totalPages - 1 : this.currentPage + 1\n        },\n        previousPage() {\n            this.currentPage = this.currentPage < 0 ? 0 : this.currentPage - 1\n        },\n        addTag(tag) {\n            const tagExists = this.selectedTags.some(item => {\n                return item === tag\n            })\n\n            if (!tagExists){\n                this.selectedTags = this.selectedTags.concat(tag)\n            }\n        },\n        removeTag(tag) {\n            this.selectedTags.filter(t => t != tag)\n        },\n        resetTags(){\n            this.selectedTags = []\n        }\n    }\n}\n</script>\n\n<template>\n\t<div>  \n        <div \n            v-if=\"selectedTags.length > 0\"\n            class=\"filtered-heading\"\n        >\n            <h2>\n                Filtered by {{ selectedTags.join(',') }}\n            </h2>\n            <button\n                type=\"button\"\n                @click=\"resetTags\"\n                class=\"btn clear-filter-btn\"\n            >\n                Clear filter\n            </button>\n        </div>\n        <ul class=\"blog-list\">\n            <li v-for=\"(item, index) in filteredList\"\n                class=\"blog-list__item\">\n                <BlogPostPreview \n                    v-show=\"index >= currentPage * pageSize && index < (currentPage + 1) * pageSize\"\n                    :item=\"item\"\n                />\n                <ul v-for=\"tag in item.frontmatter.tags\" class=\"blog-list__tags\">\n                    <li>\n                        <button @click=\"addTag(tag)\">{{ tag }}</button>\n                    </li>\n                </ul>\n            </li>\n        </ul>\n\n        <div class=\"pagination\">\n            <button v-show=\"currentPage > 0\" \n                @click=\"previousPage\"\n                class=\"button--pagination\"\n                type=\"button\" \n            >\n                Previous\n            </button>\n            <button v-show=\"currentPage < totalPages - 1\"\n                @click=\"nextPage\"\n                class=\"button--pagination\"\n                type=\"button\"\n            >\n                Next\n            </button>\n        </div>\n    </div>\n</template>\n\n<style scoped>\n.blog-list {\n\tpadding: 0;\n\tmargin: 0;\n}\n\n.blog-list__item {\n\tlist-style-type: none;\n}\n\n.blog-list__tags {\n    margin-bottom: 15px;\n}\n\n.button--pagination {\n\tbackground-color: #32c8cf;\n\tborder-radius: 4px;\n\tcolor: #fff;\n\tfont-size: 0.8rem;\n\tpadding: 0.5rem 0.75rem;\n\ttext-transform: uppercase;\n\tfont-weight: 700;\n\tbox-shadow: 0 0;\n\ttransition: background-color 0.2s ease-in, color 0.2s ease-in;\n}\n\n.button--pagination:hover {\n    background-color: #fff;\n    border: 1px solid #32c8cf;\n    border-radius: 4px;\n    color: #32c8cf;\n}\n\n.clear-filter-btn {\n    align-self: center;\n    margin-left: 20px;\n}\n\n.filtered-heading {\n    display: flex;\n}\n\n.pagination {\n    text-align: center;\n}\n</style>\n"]}]}