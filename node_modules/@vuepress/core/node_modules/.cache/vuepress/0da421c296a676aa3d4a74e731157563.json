{"remainingRequest":"/Users/daveyoon/DigitalOcean/blog.kamicrafted.com/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/daveyoon/DigitalOcean/blog.kamicrafted.com/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/daveyoon/DigitalOcean/blog.kamicrafted.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daveyoon/DigitalOcean/blog.kamicrafted.com/src/.vuepress/components/BlogPostList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/daveyoon/DigitalOcean/blog.kamicrafted.com/src/.vuepress/components/BlogPostList.vue","mtime":1569850675026},{"path":"/Users/daveyoon/DigitalOcean/blog.kamicrafted.com/node_modules/cache-loader/dist/cjs.js","mtime":1569850707940},{"path":"/Users/daveyoon/DigitalOcean/blog.kamicrafted.com/node_modules/babel-loader/lib/index.js","mtime":1569850707913},{"path":"/Users/daveyoon/DigitalOcean/blog.kamicrafted.com/node_modules/cache-loader/dist/cjs.js","mtime":1569850707940},{"path":"/Users/daveyoon/DigitalOcean/blog.kamicrafted.com/node_modules/vue-loader/lib/index.js","mtime":1569850708167}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.some\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.string.starts-with\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.number.constructor\";\nexport default {\n  name: 'BlogPostList',\n  props: {\n    pages: {\n      type: Array,\n      default: []\n    },\n    pageSize: {\n      type: Number,\n      default: 5\n    },\n    startPage: {\n      type: Number,\n      default: 0\n    }\n  },\n  data: function data() {\n    return {\n      currentPage: Math.ceil(this.startPage / this.pageSize),\n      selectedTags: []\n    };\n  },\n  computed: {\n    filteredList: function filteredList() {\n      var _this = this;\n\n      if (this.pages) {\n        return this.pages.filter(function (item) {\n          var isBlogPost = !!item.frontmatter.blog;\n          var isReadyToPublish = new Date(item.frontmatter.date) <= new Date(); // check for locales\n\n          var isCurrentLocale = true;\n\n          if (_this.$site.locales) {\n            var localePath = _this.$route.path.split('/')[1] || \"\";\n            isCurrentLocale = item.relativePath.startsWith(localePath);\n          } // check if tags contain all of the selected tags\n\n\n          var hasTags = !!item.frontmatter.tags && _this.selectedTags.every(function (tag) {\n            return item.frontmatter.tags.includes(tag);\n          });\n\n          if (!isBlogPost || !isReadyToPublish || _this.selectedTags.length > 0 && !hasTags || !isCurrentLocale) {\n            return false;\n          }\n\n          return true;\n        }).sort(function (a, b) {\n          return new Date(b.frontmatter.date) - new Date(a.frontmatter.date);\n        });\n      }\n    },\n    totalPages: function totalPages() {\n      return Math.ceil(this.filteredList.length / this.pageSize);\n    }\n  },\n  mounted: function mounted() {\n    this.currentPage = Math.min(Math.max(this.currentPage, 0), this.totalPages - 1);\n  },\n  methods: {\n    nextPage: function nextPage() {\n      this.currentPage = this.currentPage >= this.totalPages - 1 ? this.totalPages - 1 : this.currentPage + 1;\n    },\n    previousPage: function previousPage() {\n      this.currentPage = this.currentPage < 0 ? 0 : this.currentPage - 1;\n    },\n    addTag: function addTag(tag) {\n      var tagExists = this.selectedTags.some(function (item) {\n        return item === tag;\n      });\n\n      if (!tagExists) {\n        this.selectedTags = this.selectedTags.concat(tag);\n      }\n    },\n    removeTag: function removeTag(tag) {\n      this.selectedTags.filter(function (t) {\n        return t != tag;\n      });\n    },\n    resetTags: function resetTags() {\n      this.selectedTags = [];\n    }\n  }\n};",{"version":3,"sources":["BlogPostList.vue"],"names":[],"mappings":"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","sourcesContent":["<script>\nexport default {\n    name: 'BlogPostList',\n    props: {\n        pages: {\n            type: Array,\n            default: []\n        },\n        pageSize: {\n            type: Number,\n            default: 5\n        },\n        startPage: {\n            type: Number,\n            default: 0\n        }\n    },\n    data() {\n        return {\n            currentPage: Math.ceil(this.startPage / this.pageSize),\n            selectedTags: []\n        }\n    },\n    computed: {\n        filteredList() {\n            if (this.pages) {\n                \n                return this.pages.filter(item => {\n                    const isBlogPost = !!item.frontmatter.blog\n                    const isReadyToPublish = new Date(item.frontmatter.date) <= new Date()\n                     // check for locales\n                    let isCurrentLocale = true;\n                    if(this.$site.locales) {\n                        const localePath = this.$route.path.split('/')[1] || \"\";\n                        isCurrentLocale = item.relativePath.startsWith(localePath);   \n                    }\n                    // check if tags contain all of the selected tags\n                    const hasTags = !!item.frontmatter.tags && this.selectedTags.every((tag) => item.frontmatter.tags.includes(tag))\n\n                    if (!isBlogPost || !isReadyToPublish || (this.selectedTags.length > 0 && !hasTags) || !isCurrentLocale){ \n                        return false\n                    }\n\n                    return true\n                    \n                }).sort((a, b) => new Date(b.frontmatter.date) - new Date(a.frontmatter.date))\n            }\n        },\n\n        totalPages() {\n            \n            return Math.ceil(this.filteredList.length / this.pageSize)\n        },\n    },\n\n    mounted() {\n        this.currentPage =  Math.min(Math.max(this.currentPage, 0), this.totalPages - 1)\n    },\n\n    methods: {\n        nextPage() {\n            this.currentPage = this.currentPage >= this.totalPages - 1 ? this.totalPages - 1 : this.currentPage + 1\n        },\n        previousPage() {\n            this.currentPage = this.currentPage < 0 ? 0 : this.currentPage - 1\n        },\n        addTag(tag) {\n            const tagExists = this.selectedTags.some(item => {\n                return item === tag\n            })\n\n            if (!tagExists){\n                this.selectedTags = this.selectedTags.concat(tag)\n            }\n        },\n        removeTag(tag) {\n            this.selectedTags.filter(t => t != tag)\n        },\n        resetTags(){\n            this.selectedTags = []\n        }\n    }\n}\n</script>\n\n<template>\n\t<div>  \n        <div \n            v-if=\"selectedTags.length > 0\"\n            class=\"filtered-heading\"\n        >\n            <h2>\n                Filtered by {{ selectedTags.join(',') }}\n            </h2>\n            <button\n                type=\"button\"\n                @click=\"resetTags\"\n                class=\"btn clear-filter-btn\"\n            >\n                Clear filter\n            </button>\n        </div>\n        <ul class=\"blog-list\">\n            <li v-for=\"(item, index) in filteredList\"\n                class=\"blog-list__item\">\n                <BlogPostPreview \n                    v-show=\"index >= currentPage * pageSize && index < (currentPage + 1) * pageSize\"\n                    :item=\"item\"\n                />\n                <ul v-for=\"tag in item.frontmatter.tags\" class=\"blog-list__tags\">\n                    <li>\n                        <button @click=\"addTag(tag)\">{{ tag }}</button>\n                    </li>\n                </ul>\n            </li>\n        </ul>\n\n        <div class=\"pagination\">\n            <button v-show=\"currentPage > 0\" \n                @click=\"previousPage\"\n                class=\"button--pagination\"\n                type=\"button\" \n            >\n                Previous\n            </button>\n            <button v-show=\"currentPage < totalPages - 1\"\n                @click=\"nextPage\"\n                class=\"button--pagination\"\n                type=\"button\"\n            >\n                Next\n            </button>\n        </div>\n    </div>\n</template>\n\n<style scoped>\n.blog-list {\n\tpadding: 0;\n\tmargin: 0;\n}\n\n.blog-list__item {\n\tlist-style-type: none;\n}\n\n.blog-list__tags {\n    margin-bottom: 15px;\n}\n\n.button--pagination {\n\tbackground-color: #32c8cf;\n\tborder-radius: 4px;\n\tcolor: #fff;\n\tfont-size: 0.8rem;\n\tpadding: 0.5rem 0.75rem;\n\ttext-transform: uppercase;\n\tfont-weight: 700;\n\tbox-shadow: 0 0;\n\ttransition: background-color 0.2s ease-in, color 0.2s ease-in;\n}\n\n.button--pagination:hover {\n    background-color: #fff;\n    border: 1px solid #32c8cf;\n    border-radius: 4px;\n    color: #32c8cf;\n}\n\n.clear-filter-btn {\n    align-self: center;\n    margin-left: 20px;\n}\n\n.filtered-heading {\n    display: flex;\n}\n\n.pagination {\n    text-align: center;\n}\n</style>\n"],"sourceRoot":"src/.vuepress/components"}]}