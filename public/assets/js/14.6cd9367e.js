(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{265:function(e,t,a){"use strict";a.r(t);var s=a(1),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"setting-up-ssl-certificates-using-let-s-encrypt-certbot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-ssl-certificates-using-let-s-encrypt-certbot","aria-hidden":"true"}},[e._v("#")]),e._v(" Setting up SSL Certificates using Let's Encrypt & Certbot")]),e._v(" "),a("p",[e._v("To set up a free TLS/SSL certificate, we can use Certbot and Let's Encrypt to allow encrypted HTTPS on the web server. Certbot automates the process and makes registration and renewals effortless.")]),e._v(" "),a("p",[e._v("My current setup on Digital Ocean's droplet uses the following:")]),e._v(" "),a("ul",[a("li",[e._v("Ubuntu 18.04.2 (check your OS version with "),a("code",[e._v("lsb_release -a")]),e._v(")")]),e._v(" "),a("li",[e._v("Nginx (using server blocks)")])]),e._v(" "),a("p",[e._v("You'll also need a fully registered domain name to certify, as well as having an A record pointing to your server's public IP address.")]),e._v(" "),a("div",{staticClass:"callout"},[a("h3",{staticClass:"callout__title"},[e._v("If you're looking to set up a LEMP stack, Digital Ocean provides great walkthroughs here:")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04",target:"_blank",rel:"noopener noreferrer"}},[e._v("How To Install Linux, Nginx, MySQL, PHP (LEMP stack) on Ubuntu 18.04"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04",target:"_blank",rel:"noopener noreferrer"}},[e._v("How To Install Nginx on Ubuntu 18.04 | DigitalOcean"),a("OutboundLink")],1)])]),e._v(" "),a("h3",{attrs:{id:"step-1-set-up-certbot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-1-set-up-certbot","aria-hidden":"true"}},[e._v("#")]),e._v(" Step 1. Set up Certbot")]),e._v(" "),a("p",[e._v("Let's first add the repo, update the package list and install Certbot with:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo add-apt-repository ppa:certbot/certbot\nsudo apt-get update\nsudo apt-get install python-certbot-nginx\n")])])]),a("p",[e._v("Once installed, we're ready to move on to the next step of certifying your domain.")]),e._v(" "),a("h3",{attrs:{id:"step-2-set-up-nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-2-set-up-nginx","aria-hidden":"true"}},[e._v("#")]),e._v(" Step 2. Set up nginx")]),e._v(" "),a("p",[e._v("We'll first need to see how your server name is configured by opening up the config file:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo nano /etc/nginx/sites-available/yoursite.com\n")])])]),a("p",[e._v("Once the file is open, look for the "),a("code",[e._v("server_name")]),e._v(" field, which should look something like:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("server_name yoursite.com www.yoursite.com;\n")])])]),a("p",[e._v("Save any changes you've made and exit out of the editor. Before we move onto the next step, we should check the syntax of our updated configuration file to make sure all is still under working order.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo nginx -t\n")])])]),a("p",[e._v("If all looks good, then we'll need to restart nginx using "),a("code",[e._v("sudo systemctl reload nginx")]),e._v(".")]),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"frequently-used-commands"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#frequently-used-commands","aria-hidden":"true"}},[e._v("#")]),e._v(" Frequently Used Commands")]),e._v(" "),a("p",[a("strong",[e._v("Find the location of your php.ini file")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("php -i | grep php.ini\n")])])]),a("p",[a("strong",[e._v("Restart php")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("systemctl restart php7.2-fpm.service\n")])])]),a("p",[a("strong",[e._v("Restart a droplet from command line")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo shutdown -r now\n")])])]),a("p",[a("strong",[e._v("Reset permissions")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("chown -R www-data:www-data [folder]/\nchmod -R 744\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);